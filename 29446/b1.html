<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Risk Management Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <style>
        body { font-family: 'Poppins', sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
        .container { display: grid; grid-template-columns: 1fr 3fr; grid-gap: 20px; padding: 20px; }
        .dashboard, .feed { background: white; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .dashboard { padding: 20px; }
        .feed { overflow-y: auto; max-height: 90vh; }
        .risk-score { color: white; padding: 5px 10px; border-radius: 20px; display: inline-block; }
        .low { background-color: #4CAF50; }
        .medium { background-color: #FFEB3B; }
        .high { background-color: #F44336; }
        .alert { margin-top: 20px; }
        #heatMap { width: 100%; height: 300px; }
    </style>
</head>
<body>

<div class="container">
    <div class="dashboard">
        <h2>Dashboard Overview</h2>
        <div id="riskOverview"></div>
        <div id="heatMap"></div>
        <div class="alert" id="alertBox"></div>
    </div>
    <div class="feed">
        <h2>Live Transaction Feed</h2>
        <ul id="transactionFeed"></ul>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script>
    // Placeholder for dynamic content
    function updateDashboard() {
        // Simulated data and functions would go here
        document.getElementById('riskOverview').innerHTML = 'POS: Low | Card: Medium | Bank: High';
        
        // Heat map data
        const heatMapData = {
            datasets: [{
                data: [/* Data for heat map */],
                backgroundColor: function(context) {
                    const value = context.dataset.data[context.dataIndex];
                    const alpha = (value - 50) / 50;
                    return `rgba(255, 0, 0, ${Math.max(alpha, 0)})`;
                }
            }]
        };

        const ctx = document.getElementById('heatMap').getContext('2d');
        new Chart(ctx, {
            type: 'matrix',
            data: heatMapData,
            options: {
                scales: { x: { display: false }, y: { display: false } }
            }
        });
    }

    function showAlert(message) {
        Toastify({
            text: message,
            duration: 3000,
            close: true,
            gravity: "top",
            position: "right",
            backgroundColor: "linear-gradient(to right, #ff5f6d, #ffc371)",
        }).showToast();
    }

    function updateTransactionFeed(transactions) {
        const feed = document.getElementById('transactionFeed');
        transactions.forEach(tx => {
            const li = document.createElement('li');
            li.textContent = `Transaction: ${tx.amount} - Risk: `;
            const riskSpan = document.createElement('span');
            riskSpan.className = `risk-score ${tx.riskLevel.toLowerCase()}`;
            riskSpan.textContent = tx.riskLevel;
            li.appendChild(riskSpan);
            feed.appendChild(li);
        });
    }

    // Initial updates
    updateDashboard();
    // Simulated transaction feed update
    setInterval(() => {
        updateTransactionFeed([{amount: '$120', riskLevel: 'Medium'}]);
    }, 5000);

    // Simulated alert
    showAlert("High risk detected in transaction #12345");
</script>

</body>
</html>