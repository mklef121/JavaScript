<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historical Facts Widget</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f0f0f0;
            color: #333;
        }

        .container {
            width: 80%;
            margin: auto;
        }

        h1 {
            text-align: center;
            color: #4A90E2;
            padding: 20px;
            background: #fefefe;
            border-bottom: 3px solid #4A90E2;
        }

        .section {
            margin: 20px 0;
            padding: 20px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .section h2 {
            color: #E94E77;
            margin-top: 0;
        }

        .on-this-day,
        .quiz {
            text-align: center;
        }

        .event,
        .question {
            margin: 10px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #fafafa;
        }

        .event {
            font-size: 1.2em;
        }

        .figure-card {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: background 0.3s;
        }

        .figure-card:hover {
            background: #e0e0e0;
        }

        .figure-card img {
            border-radius: 50%;
            margin-right: 10px;
            width: 80px;
            height: 80px;
        }

        .figure-detail {
            display: none;
            flex-direction: column;
            align-items: center;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .figure-detail img {
            max-width: 300px;
            border-radius: 8px;
        }

        .figure-detail p {
            max-width: 600px;
            text-align: center;
        }

        .pagination {
            text-align: center;
            margin: 20px 0;
        }

        .pagination button {
            margin: 0 5px;
            padding: 10px 20px;
            border: none;
            background: #4A90E2;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .pagination button:hover {
            background: #357ABD;
        }

        .quiz-answer {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }

        .quiz-answer button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            background: #E94E77;
            color: white;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .quiz-answer button:hover {
            background: #C82C5A;
        }

        .hidden {
            display: none;
        }

        /* Styling for the Restart Quiz Button */
        .quiz-answer button,
        .quiz-result button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            background: linear-gradient(45deg, #E94E77, #FF6F61);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .quiz-answer button:hover,
        .quiz-result button:hover {
            background: linear-gradient(45deg, #FF6F61, #E94E77);
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        .quiz-answer button:active,
        .quiz-result button:active {
            transform: scale(1.02);
        }

        /* Styling for the Restart Quiz Button */
        #quiz-result button,
        .on-this-day button {
            margin: 5px;
            padding: 10px 20px;
            border: none;
            background: linear-gradient(45deg, #4A90E2, #50E3C2);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #quiz-result button:hover,
        .on-this-day button:hover {
            background: linear-gradient(45deg, #50E3C2, #4A90E2);
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        #quiz-result button:active,
        .on-this-day button:hover {
            transform: scale(1.02);
        }

        .figure-card {
            display: flex;
            align-items: center;
            margin: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: box-shadow 0.3s, transform 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .figure-card img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-right: 10px;
        }

        .figure-card h3 {
            margin: 0;
            color: #4A90E2;
        }

        .figure-card p {
            margin: 5px 0;
            color: #666;
        }

        .figure-card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            transform: scale(1.02);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            position: relative;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .modal-header {
            padding: 10px 20px;
            border-bottom: 1px solid #ddd;
            border-radius: 8px 8px 0 0;
            background: linear-gradient(45deg, #4A90E2, #50E3C2);
            color: white;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 10px 20px;
            border-top: 1px solid #ddd;
            text-align: right;
        }

        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

        .modal-footer button {
            background: #E94E77;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s, transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .modal-footer button:hover {
            background: #D83F6D;
            transform: scale(1.05);
        }

        .modal-footer button:active {
            transform: scale(1.02);
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Historical Facts Widget</h1>

        <!-- On This Day Section -->
        <div class="section on-this-day">
            <h2>On This Day</h2>
            <div id="event" class="event">Loading...</div>
            <button onclick="fetchEvent()">Refresh</button>
        </div>

        <!-- Famous Figures Section -->
        <div class="section famous-figures">
            <h2>Famous Figures</h2>
            <div id="figure-container"></div>
            <div id="figure-detail" class="figure-detail">
                <img id="figure-image" src="" alt="Figure Image">
                <p id="figure-summary"></p>
                <button onclick="closeFigureDetail()">Close</button>
            </div>
            <div class="pagination">
                <button onclick="changePage(-1)">Previous</button>
                <button onclick="changePage(1)">Next</button>
            </div>
        </div>

        <!-- Historical Quiz Section -->
        <div class="section quiz">
            <h2>Historical Quiz</h2>
            <div id="quiz-question" class="question">Loading...</div>
            <div id="quiz-answers" class="quiz-answer"></div>
            <div id="quiz-result" class="hidden">
                <p id="final-score"></p>
                <button onclick="restartQuiz()">Restart Quiz</button>
            </div>
        </div>
    </div>
    <!-- Modal Structure -->
    <div id="figure-modal" class="modal" onclick="closeFigureDetail()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <span class="close" onclick="closeFigureDetail()">&times;</span>
                <h2 id="modal-figure-name"></h2>
            </div>
            <div class="modal-body">
                <img id="modal-figure-image" src="" alt="Figure Image" style="width: 100%; border-radius: 8px;">
                <p id="modal-figure-summary"></p>
            </div>
            <div class="modal-footer">
                <button onclick="closeFigureDetail()">Close</button>
            </div>
        </div>
    </div>
    <script>
        // On This Day Data
        const events = [
            "In 1945, World War II ended with the surrender of Japan.",
            "In 1969, the first successful manned moon landing occurred.",
            "In 1888, the first issue of National Geographic was published.",
            "In 1776, the Declaration of Independence was signed.",
            "In 1836, the Alamo fell to Mexican forces.",
            "In 1963, Martin Luther King Jr. gave his 'I Have a Dream' speech.",
            "In 1492, Christopher Columbus arrived in the Americas.",
            "In 2001, the September 11 attacks occurred in the United States.",
            "In 1955, the first successful open-heart surgery was performed.",
            "In 1929, the stock market crash marked the beginning of the Great Depression.",
            "In 1979, the United States officially recognized the People's Republic of China.",
            "In 1914, World War I began with the assassination of Archduke Franz Ferdinand.",
            "In 1944, Allied forces launched Operation Overlord, D-Day.",
            "In 1964, the Civil Rights Act was signed into law in the United States.",
            "In 2008, Barack Obama was elected as the first African-American President of the United States.",
            "In 1917, the United States entered World War I.",
            "In 1920, the 19th Amendment granted women the right to vote in the United States.",
            "In 1989, the Berlin Wall fell, symbolizing the end of the Cold War.",
            "In 1968, the Apollo 8 mission orbited the moon for the first time."
        ];

        function fetchEvent() {
            const event = events[Math.floor(Math.random() * events.length)];
            document.getElementById('event').innerText = event;
        }

        fetchEvent();

        // Famous Figures Data
        const figures = [
            { name: 'Albert Einstein', img: 'https://via.placeholder.com/80', summary: 'Theoretical physicist known for the theory of relativity.' },
            { name: 'Marie Curie', img: 'https://via.placeholder.com/80', summary: 'Pioneering physicist and chemist who conducted groundbreaking research on radioactivity.' },
            { name: 'Leonardo da Vinci', img: 'https://via.placeholder.com/80', summary: 'Renaissance artist and inventor known for works like the Mona Lisa and The Last Supper.' },
            { name: 'Winston Churchill', img: 'https://via.placeholder.com/80', summary: 'British Prime Minister during World War II, known for his leadership and speeches.' },
            { name: 'Nelson Mandela', img: 'https://via.placeholder.com/80', summary: 'Anti-apartheid revolutionary and former President of South Africa.' },
            { name: 'Abraham Lincoln', img: 'https://via.placeholder.com/80', summary: '16th President of the United States, known for leading the country during the Civil War and abolishing slavery.' },
            { name: 'George Washington', img: 'https://via.placeholder.com/80', summary: 'First President of the United States and one of the Founding Fathers.' },
            { name: 'Cleopatra', img: 'https://via.placeholder.com/80', summary: 'Last active ruler of the Ptolemaic Kingdom of Egypt, known for her political acumen and alliances with Roman leaders.' },
            { name: 'Galileo Galilei', img: 'https://via.placeholder.com/80', summary: 'Italian astronomer and physicist who made pioneering observations of celestial bodies.' },
            { name: 'Isaac Newton', img: 'https://via.placeholder.com/80', summary: 'Mathematician and physicist known for his laws of motion and gravitation.' },
            { name: "Mahatma Gandhi", img: "https://via.placeholder.com/80", summary: "An Indian leader known for his role in the Indian independence movement.", additional: "Gandhi promoted nonviolent resistance as a means of achieving political and social goals." },
            { name: "Friedrich Nietzsche", img: "https://via.placeholder.com/80", summary: "A German philosopher known for his critique of traditional European morality and religion.", additional: "Nietzsche's work influenced modern existentialism and postmodernism." },
            { name: "Julius Caesar", img: "https://via.placeholder.com/80", summary: "A Roman general and statesman who played a critical role in the demise of the Roman Republic.", additional: "Caesar's actions led to the rise of the Roman Empire." },
            { name: "Galileo Galilei", img: "https://via.placeholder.com/80", summary: "An Italian astronomer and physicist who played a major role in the scientific revolution.", additional: "Galileo's improvements to the telescope and consequent astronomical observations were pivotal in modern science." },
            { name: "Rosa Parks", img: "https://via.placeholder.com/80", summary: "An American activist known for her pivotal role in the Montgomery Bus Boycott.", additional: "Parks' refusal to give up her bus seat to a white person became a symbol of the civil rights movement." },
            { name: "Socrates", img: "https://via.placeholder.com/80", summary: "An ancient Greek philosopher credited as one of the founders of Western philosophy.", additional: "Socrates is known for his contribution to ethics and epistemology." },
            { name: "William Shakespeare", img: "https://via.placeholder.com/80", summary: "An English playwright and poet widely regarded as one of the greatest writers in the English language.", additional: "Shakespeare's plays, including 'Hamlet' and 'Macbeth,' are still performed today." },
            { name: "Joan of Arc", img: "https://via.placeholder.com/80", summary: "A French peasant girl who led the French army to victory over the English at Orléans.", additional: "Joan was later canonized as a saint by the Catholic Church." },
            { name: "Mikhail Gorbachev", img: "https://via.placeholder.com/80", summary: "The final leader of the Soviet Union, known for his role in ending the Cold War.", additional: "Gorbachev introduced policies of glasnost and perestroika to reform the Soviet system." },
            { name: "Hellen Keller", img: "https://via.placeholder.com/80", summary: "An American author and activist who was deaf and blind.", additional: "Keller became a renowned lecturer and advocate for people with disabilities." }
        ];

        let currentPage = 0;

        function renderFigures(page) {
            const start = page * 5;
            const end = start + 5;
            const figuresToShow = figures.slice(start, end);

            const figureContainer = document.getElementById('figure-container');
            figureContainer.innerHTML = '';

            figuresToShow.forEach(figure => {
                const card = document.createElement('div');
                card.className = 'figure-card';
                card.innerHTML = `
                    <img src="${figure.img}" alt="${figure.name}">
                    <div>
                        <h3>${figure.name}</h3>
                        <p>${figure.summary}</p>
                    </div>
                `;
                card.onclick = () => showFigureDetail(figure);
                figureContainer.appendChild(card);
            });
        }

        function showFigureDetail(figure) {
            document.getElementById('modal-figure-name').innerText = figure.name;
            document.getElementById('modal-figure-image').src = figure.img;
            document.getElementById('modal-figure-summary').innerText = figure.additional || figure.summary;
            document.getElementById('figure-modal').style.display = 'block';
        }

        function closeFigureDetail() {
            document.getElementById('figure-modal').style.display = 'none';
        }

        function changePage(direction) {
            currentPage += direction;
            if (currentPage < 0) currentPage = 0;
            if (currentPage >= Math.ceil(figures.length / 5)) currentPage = Math.ceil(figures.length / 5) - 1;
            renderFigures(currentPage);
        }

        renderFigures(currentPage);

        // Historical Quiz Data
        const questions = [
            { question: "Who was the first President of the USA?", answers: ["George Washington", "John Adams", "Thomas Jefferson"], correct: "George Washington" },
            { question: "What year did the Titanic sink?", answers: ["1912", "1905", "1923"], correct: "1912" },
            { question: "Who discovered America in 1492?", answers: ["Christopher Columbus", "Ferdinand Magellan", "Vasco da Gama"], correct: "Christopher Columbus" },
            { question: "Which war ended with the Treaty of Versailles?", answers: ["World War I", "World War II", "The Korean War"], correct: "World War I" },
            { question: "Who was known as the Iron Lady?", answers: ["Margaret Thatcher", "Golda Meir", "Indira Gandhi"], correct: "Margaret Thatcher" },
            { question: "What was the name of the ship on which the Pilgrims traveled to America?", answers: ["Mayflower", "Nina", "Santa Maria"], correct: "Mayflower" },
            { question: "Who was the first woman to win a Nobel Prize?", answers: ["Marie Curie", "Rosalind Franklin", "Ada Lovelace"], correct: "Marie Curie" },
            { question: "What ancient civilization built the Machu Picchu?", answers: ["Inca", "Maya", "Aztec"], correct: "Inca" },
            { question: "Which country was the first to grant women the right to vote?", answers: ["New Zealand", "Australia", "United States"], correct: "New Zealand" },
            { question: "Who was the famous queen of ancient Egypt known for her alliances with Roman leaders?", answers: ["Cleopatra", "Nefertiti", "Hatshepsut"], correct: "Cleopatra" }
        ];

        let score = 0;

        function startQuiz() {
            const q = questions[Math.floor(Math.random() * questions.length)];
            document.getElementById('quiz-question').innerText = q.question;
            document.getElementById('quiz-answers').innerHTML = q.answers.map(answer =>
                `<button onclick="checkAnswer('${answer}', '${q.correct}')">${answer}</button>`
            ).join('');
            document.getElementById('quiz-result').classList.add('hidden');
        }

        function checkAnswer(selected, correct) {
            if (selected === correct) {
                score += 2;
                startQuiz(); // Move to the next question immediately
            } else {
                document.getElementById('final-score').innerText = `Wrong! Final score: ${score}`;
                document.getElementById('quiz-result').classList.remove('hidden');
            }
        }

        function restartQuiz() {
            score = 0;
            startQuiz();
        }

        startQuiz();
    </script>
</body>

</html>