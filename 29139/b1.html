<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Geography Explorer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            background: linear-gradient(to right, #ff9966, #ff5e62);
            color: white;
            font-family: 'Arial', sans-serif;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        #map {
            height: 400px;
            width: 100%;
            border-radius: 10px;
        }
        .quiz, .country-info, .virtual-tour {
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }
        .btn {
            margin: 5px;
        }
        .photo-tour img {
            width: 100%;
            cursor: pointer;
            transition: transform .2s;
        }
        .photo-tour img:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">Explore World Geography</h1>
        
        <!-- Map Section -->
        <div id="map"></div>

        <!-- Geo-Quiz Section -->
        <div class="quiz">
            <h2>Geo-Quiz</h2>
            <p id="question">Loading question...</p>
            <div id="quizOptions"></div>
            <p>Score: <span id="score">0</span></p>
        </div>

        <!-- Country Profiles Section -->
        <div class="country-info">
            <h2>Country Profiles</h2>
            <select id="countrySelect" class="form-select mb-3"></select>
            <div id="countryDetails"></div>
        </div>

        <!-- Virtual Tours Section -->
        <div class="virtual-tour">
            <h2>Virtual Tours</h2>
            <div id="photoGallery" class="row photo-tour"></div>
        </div>
    </div>

    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>
    <script>
    document.addEventListener('DOMContentLoaded', async () => {
        let countries, currentQuestion, score = 0, map;

        // Initialize Google Map
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 0, lng: 0},
                zoom: 2,
                streetViewControl: true,
                mapTypeControlOptions: {
                    mapTypeIds: ['roadmap', 'satellite']
                }
            });
        }
        initMap();

        // Fetch countries data
        const response = await fetch('https://restcountries.com/v3.1/all');
        countries = await response.json();

        // Populate country select
        const countrySelect = document.getElementById('countrySelect');
        countries.forEach(country => {
            const option = document.createElement('option');
            option.value = country.name.common;
            option.text = country.name.common;
            countrySelect.appendChild(option);
        });

        // Country Profile
        countrySelect.addEventListener('change', async (e) => {
            const countryName = e.target.value;
            const country = countries.find(c => c.name.common === countryName);
            const detailsDiv = document.getElementById('countryDetails');
            detailsDiv.innerHTML = `
                <h3>${country.name.official}</h3>
                <p><strong>Capital:</strong> ${country.capital}</p>
                <p><strong>Population:</strong> ${country.population.toLocaleString()}</p>
                <p><strong>Region:</strong> ${country.region}</p>
                <img src="${country.flags.png}" alt="${country.name.common} flag" width="100">
            `;
            // Center map on selected country
            const [lat, lng] = country.latlng;
            map.setCenter({lat, lng});
            map.setZoom(5);
        });

        // Geo-Quiz
        function generateQuestion() {
            const randomCountry = countries[Math.floor(Math.random() * countries.length)];
            const options = [randomCountry.capital[0], ...Array(3).fill().map(() => countries[Math.floor(Math.random() * countries.length)].capital[0])].sort(() => Math.random() - 0.5);
            currentQuestion = {
                country: randomCountry.name.common,
                capital: randomCountry.capital[0],
                options: options
            };
            document.getElementById('question').textContent = `What is the capital of ${randomCountry.name.common}?`;
            document.getElementById('quizOptions').innerHTML = options.map((opt, index) => `<button class="btn btn-light" onclick="checkAnswer('${opt}', ${index})">${opt}</button>`).join('');
        }

        function checkAnswer(answer, index) {
            if (answer === currentQuestion.capital) {
                score += 2;
                document.getElementById('score').textContent = score;
                generateQuestion();
            } else {
                alert(`Game Over! Your score is ${score}. Restarting quiz...`);
                score = 0;
                document.getElementById('score').textContent = score;
                generateQuestion();
            }
        }

        generateQuestion();

        // Virtual Tours - Simplified with static images
        const gallery = document.getElementById('photoGallery');
        const landmarks = [
            {name: 'Eiffel Tower', image: 'eiffel_tower.jpg'},
            {name: 'Machu Picchu', image: 'machu_picchu.jpg'},
            // Add more landmarks here
        ];
        landmarks.forEach(landmark => {
            const img = document.createElement('img');
            img.src = landmark.image;
            img.alt = landmark.name;
            img.onclick = function() {
                // Here you would typically open a modal with more info
                alert(`You clicked on ${landmark.name}`);
            };
            gallery.appendChild(img);
        });
    });
    </script>
</body>
</html>