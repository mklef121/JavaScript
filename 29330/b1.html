<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nigeria Food Insecurity Analysis</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: auto;
        }

        .chart {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            padding: 20px;
        }

        h1,
        h2 {
            color: #333;
        }

        #map {
            width: 100%;
            height: 400px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Nigeria Food Insecurity Overview 2023-2024</h1>
        <div id="foodInsecurityChart" class="chart"></div>
        <div id="cassavaProduction" class="chart"></div>
        <div id="map" class="chart"></div>
        <div id="factorsImpact" class="chart"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Data for charts
            const foodInsecurityData = {
                series: [{
                    name: 'People in Food Insecurity',
                    data: [18.6, 26.5]
                }],
                categories: ['Oct-Dec 2023', 'Projected 2024']
            };

            const cassavaProduction = {
                series: [61.121],
                labels: ['2021 Production (million metric tons)']
            };

            const factorsImpact = {
                series: [3.3, 23.2], // Example data: current in BAY states, rest of Nigeria
                labels: ['BAY States', 'Other States']
            };

            // Chart configurations
            const options = {
                chart: { type: 'bar', height: 350, animations: { enabled: true, easing: 'easeinout', speed: 800 } },
                plotOptions: { bar: { horizontal: false, columnWidth: '55%' } },
                dataLabels: { enabled: true },
                stroke: { show: true, width: 2, colors: ['transparent'] },
                xaxis: { categories: foodInsecurityData.categories },
                yaxis: { title: { text: 'Million People' } },
                fill: { opacity: 1 },
                title: { text: 'Projected Food Insecurity', align: 'center' }
            };

            const cassavaOptions = {
                chart: { type: 'pie', animations: { enabled: true, animateGradually: { enabled: true, delay: 150 } } },
                labels: cassavaProduction.labels,
                series: cassavaProduction.series,
                responsive: [{ breakpoint: 480, options: { chart: { width: 200 }, legend: { position: 'bottom' } } }],
                title: { text: 'Cassava Production', align: 'center' }
            };

            const factorOptions = {
                ...options,
                title: { text: 'Impact of Factors on Food Insecurity' }
            };

            // Initialize charts
            var chart = new ApexCharts(document.querySelector("#foodInsecurityChart"), options);
            var cassavaChart = new ApexCharts(document.querySelector("#cassavaProduction"), cassavaOptions);
            var factorChart = new ApexCharts(document.querySelector("#factorsImpact"), factorOptions);

            chart.render();
            cassavaChart.render();
            factorChart.render();

            // Here you would typically load a map library like Leaflet or Google Maps to show insecure states
            // This is a placeholder for map integration
            // For simplicity, this example doesn't include actual map data
        });
    </script>
</body>

</html>